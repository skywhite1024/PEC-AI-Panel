# 动态饼图实现计划

## 需求分析
需要将饼图的三个扇形区域（效率、成本、体积）大小根据对应的输入值动态调整，同时保持不同颜色。

## 实现步骤

### 1. 修改 CustomPieChart 组件接口
- 在 `PanelComponents.tsx` 中，为 `CustomPieChart` 组件添加 props 接口，接受三个权重值：
  - `effWeight` (效率权重)
  - `costWeight` (成本权重)
  - `volWeight` (体积权重)

### 2. 实现动态计算逻辑
- 在组件内部，根据三个权重值计算总权重
- 计算每个扇形占总权重的比例
- 根据比例计算每个扇形的 `stroke-dasharray` 和 `stroke-dashoffset` 值
- 圆周长度约为 314（基于半径50）

### 3. 调整 ProfessionalPanel.tsx
- 修改 `CustomPieChart` 组件的调用，传递对应的表单值：
  - `effWeight={formData.effWeight}`
  - `costWeight={formData.costWeight}`
  - `volWeight={formData.volWeight}`

### 4. 颜色设置
- 保持原有颜色方案：
  - 体积：灰色 (#BFBFBF)
  - 成本：浅紫色 (#B3C6FF)
  - 效率：蓝色 (#2F54EB)

## 技术细节
- 使用 SVG 的 `stroke-dasharray` 和 `stroke-dashoffset` 属性实现动态扇形
- 处理权重值为字符串的情况，转换为数字进行计算
- 确保零值和无效值的处理
- 保持饼图的旋转和布局不变

## 文件修改
1. `components/PanelComponents.tsx` - 修改 `CustomPieChart` 组件
2. `components/ProfessionalPanel.tsx` - 更新组件调用