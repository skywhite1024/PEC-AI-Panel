## 问题分析
1. **配置问题**：SpeechRecognition API 的 `interimResults` 被设置为 `false`，导致无法获取实时临时结果
2. **状态管理问题**：状态流转有误，缺少 Listening 状态，导致用户刚点击就显示“录音已停止”
3. **实现逻辑问题**：使用了 MediaRecorder 和 SpeechRecognition 两种 API，逻辑混乱，且 `recognizeSpeech` 函数实际上使用的是模拟结果
4. **实时反馈问题**：`onresult` 回调只处理 `isFinal` 为 true 的结果，没有实时更新输入框

## 修复方案

### 1. 重构语音识别逻辑
- 移除冗余的 MediaRecorder 逻辑，统一使用 SpeechRecognition API
- 确保正确配置 `continuous` 和 `interimResults` 属性

### 2. 修复状态管理
- 优化 `isRecording` 和 `isRecognizing` 状态流转
- 确保从 Idle 到 Listening 再到 Processing 的正确过渡

### 3. 实现实时反馈
- 重写 `onresult` 事件处理逻辑，遍历所有结果
- 处理临时结果并实时更新输入框
- 只在 `isFinal` 为 true 时重置识别状态

### 4. 增强兼容性
- 确保同时检查 `window.SpeechRecognition` 和 `window.webkitSpeechRecognition`
- 添加浏览器不支持时的友好提示

## 代码修改点

1. **App.tsx**：
   - 重构 `toggleRecording` 函数
   - 修复 `recognizeSpeech` 函数
   - 重写 `onresult` 事件处理
   - 优化状态管理逻辑

## 预期效果
- 用户点击麦克风图标后，进入 Listening 状态，显示“正在听...”
- 说话时，输入框实时显示文字，实现打字机效果
- 再次点击或静默超时后，停止识别并保存最终结果
- 浏览器不支持时显示友好提示

## 修复步骤
1. 移除冗余的 MediaRecorder 逻辑
2. 配置 SpeechRecognition API，开启 `interimResults` 和 `continuous`
3. 重写 `onresult` 事件处理，实现实时更新
4. 修复状态流转逻辑
5. 测试各种场景下的表现