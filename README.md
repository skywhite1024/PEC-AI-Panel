 <div align="center">

**åŸºäº AI çš„ç”µåŠ›ç”µå­å˜æ¢å™¨è‡ªåŠ¨åŒ–è®¾è®¡ç³»ç»Ÿ**

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

PEC-AIï¼ˆPower Electronics Converter - AIï¼‰æ˜¯ä¸€ä¸ªé¢å‘ç”µåŠ›ç”µå­å·¥ç¨‹å¸ˆçš„æ™ºèƒ½è®¾è®¡è¾…åŠ©å¹³å°ã€‚é€šè¿‡è‡ªç„¶è¯­è¨€å¯¹è¯äº¤äº’ï¼Œç”¨æˆ·æ— éœ€æŒæ¡å¤æ‚çš„å‚æ•°é…ç½®ï¼Œå³å¯å¿«é€Ÿå®Œæˆ DC-DC å˜æ¢å™¨çš„è®¾è®¡ï¼Œè·å–åŒ…å«å®Œæ•´ç‰©æ–™æ¸…å•ï¼ˆBOMï¼‰ã€è®¾è®¡æŠ¥å‘Šå’Œå…ƒå™¨ä»¶é€‰å‹è¯´æ˜çš„ä¸“ä¸šæ–¹æ¡ˆã€‚

### æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§                | æè¿°                                                               |
| ------------------- | ------------------------------------------------------------------ |
| ğŸ¤– **AI å¯¹è¯å¼•å¯¼**  | é€šè¿‡å¤šè½®æ™ºèƒ½å¯¹è¯æ”¶é›†è®¾è®¡éœ€æ±‚ï¼Œè‡ªåŠ¨è§£ææ‹“æ‰‘æ„å›¾ã€ç”µå‹ç­‰çº§ã€ä¼˜åŒ–åå¥½ |
| âš¡ **å¤šç›®æ ‡ä¼˜åŒ–**   | æ”¯æŒæ•ˆç‡ä¼˜å…ˆã€æˆæœ¬ä¼˜å…ˆã€ä½“ç§¯ä¼˜å…ˆæˆ–å‡è¡¡è®¾è®¡çš„å¸•ç´¯æ‰˜ä¼˜åŒ–             |
| ğŸ“Š **ä¸“ä¸šæŠ¥å‘Šç”Ÿæˆ** | ä¸€é”®ç”Ÿæˆ BOM æ¸…å•ã€è®¾è®¡æŠ¥å‘Šã€åŠå¯¼ä½“/ç”µæ„Ÿ/ç”µå®¹é€‰å‹æŠ¥å‘Šï¼ˆPDF/CSVï¼‰   |
| ğŸ’¬ **æ–¹æ¡ˆé—®ç­”**     | è®¾è®¡å®Œæˆåè¿›å…¥é—®ç­”æ¨¡å¼ï¼Œè§£ç­”æ§åˆ¶å®ç°ã€å…ƒå™¨ä»¶æ›¿æ¢ã€PCB å¸ƒå±€ç­‰é—®é¢˜   |
| ğŸ¨ **åŒæ¨¡å¼ç•Œé¢**   | æ™®é€šæ¨¡å¼ï¼ˆAI å¼•å¯¼ï¼‰ä¸ä¸“ä¸šæ¨¡å¼ï¼ˆå®Œå…¨å‚æ•°æ§åˆ¶ï¼‰è‡ªç”±åˆ‡æ¢              |

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
PEC-AI-Panel/
â”œâ”€â”€ App.tsx                    # ä¸»åº”ç”¨ç»„ä»¶ï¼Œç®¡ç†å¯¹è¯æµç¨‹ä¸ç•Œé¢çŠ¶æ€
â”œâ”€â”€ index.tsx                  # åº”ç”¨å…¥å£
â”œâ”€â”€ index.html                 # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.ts             # Vite æ„å»ºé…ç½®
â”œâ”€â”€ tsconfig.json              # TypeScript é…ç½®
â”œâ”€â”€ package.json               # ä¾èµ–ç®¡ç†
â”‚
â”œâ”€â”€ components/                # UI ç»„ä»¶
â”‚   â”œâ”€â”€ DownloadPanel.tsx      # æ–¹æ¡ˆä¸‹è½½é¢æ¿ï¼ˆç”Ÿæˆè¿›åº¦ã€æ–‡ä»¶ä¸‹è½½ï¼‰
â”‚   â”œâ”€â”€ ProfessionalPanel.tsx  # ä¸“ä¸šæ¨¡å¼å‚æ•°é…ç½®é¢æ¿
â”‚   â”œâ”€â”€ PanelComponents.tsx    # é€šç”¨é¢æ¿ç»„ä»¶
â”‚   â””â”€â”€ ThinkingBlock.tsx      # AI æ€è€ƒè¿‡ç¨‹å±•ç¤ºç»„ä»¶
â”‚
â”œâ”€â”€ hooks/                     # è‡ªå®šä¹‰ React Hooks
â”‚   â”œâ”€â”€ useChat.ts             # å¯¹è¯çŠ¶æ€ç®¡ç†ï¼ˆæ¶ˆæ¯å‘é€ã€æµå¼å“åº”ï¼‰
â”‚   â”œâ”€â”€ useChatHistory.ts      # å¯¹è¯å†å²æŒä¹…åŒ–
â”‚   â””â”€â”€ useDesignContext.ts    # è®¾è®¡ä¸Šä¸‹æ–‡æå–ä¸ç®¡ç†
â”‚
â”œâ”€â”€ services/                  # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ api.ts                 # AI API è°ƒç”¨ï¼ˆæµå¼/éæµå¼ï¼‰ã€è¾“å…¥å»ºè®®ç”Ÿæˆ
â”‚   â”œâ”€â”€ designExtractor.ts     # ä»å¯¹è¯ä¸­æå–è®¾è®¡å‚æ•°
â”‚   â””â”€â”€ reportGenerator.ts     # PDF/CSV æŠ¥å‘Šç”Ÿæˆ
â”‚
â””â”€â”€ image/                     # é™æ€å›¾ç‰‡èµ„æº
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.x
- npm >= 9.x

### å®‰è£…ä¸è¿è¡Œ

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd PEC-AI-Panel

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å¯åŠ¨åè®¿é—® `http://localhost:5173` å³å¯ä½¿ç”¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©ä½äº `dist/` ç›®å½•ã€‚

---

## ğŸ”§ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯             | ç”¨é€”     |
| ---------------- | -------- |
| **React 18**     | UI æ¡†æ¶  |
| **TypeScript**   | ç±»å‹å®‰å…¨ |
| **Vite**         | æ„å»ºå·¥å…· |
| **TailwindCSS**  | æ ·å¼ç³»ç»Ÿ |
| **Lucide React** | å›¾æ ‡åº“   |
| **jsPDF**        | PDF ç”Ÿæˆ |

### AI æœåŠ¡

é¡¹ç›®é€šè¿‡ [ModelScope](https://api-inference.modelscope.cn) è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹ï¼š

```typescript
// services/api.ts
const API_URL = "https://api-inference.modelscope.cn/v1/chat/completions";
const MODEL = "deepseek-ai/DeepSeek-V3.2-Exp";
```

æ”¯æŒçš„åŠŸèƒ½ï¼š

- **æµå¼å“åº”**ï¼šå®æ—¶å±•ç¤º AI å›å¤ï¼Œæ”¯æŒæ€è€ƒè¿‡ç¨‹å¯è§†åŒ–
- **åŒæ¨¡å¼æç¤ºè¯**ï¼šè®¾è®¡å¼•å¯¼æ¨¡å¼ (`DESIGN_GUIDE_PROMPT`) ä¸é—®ç­”æ¨¡å¼ (`QA_MODE_PROMPT`)
- **æ™ºèƒ½å»ºè®®**ï¼šæ ¹æ® AI æé—®è‡ªåŠ¨ç”Ÿæˆç”¨æˆ·è¾“å…¥å»ºè®®

---

## ğŸ“‹ åŠŸèƒ½æ¨¡å—è¯¦è§£

### 1. ä¿¡æ¯è¾“å…¥æ¨¡å—

é€šè¿‡ AI å¯¹è¯æ”¶é›†è®¾è®¡å‚æ•°ï¼š

```
å¯¹è¯æµç¨‹ï¼š
1. æ‹“æ‰‘ç±»å‹ â†’ Boost / Buck / Buck-Boost
2. è¾“å…¥ç”µå‹ â†’ å¦‚ 48V æˆ– 36V-60V èŒƒå›´
3. è¾“å‡ºç”µå‹ â†’ å¦‚ 100V
4. è¾“å‡ºåŠŸç‡ â†’ å¦‚ 500W
5. ä¼˜åŒ–ç›®æ ‡ â†’ æ•ˆç‡ä¼˜å…ˆ / æˆæœ¬ä¼˜å…ˆ / å‡è¡¡è®¾è®¡
6. å‚æ•°ç¡®è®¤ â†’ AI æ€»ç»“å¹¶ç­‰å¾…ç”¨æˆ·ç¡®è®¤
```

æ ¸å¿ƒå®ç°è§ api.ts ä¸­çš„ `sendMessageStream()` å‡½æ•°ã€‚

### 2. æ–¹æ¡ˆç”Ÿæˆæ¨¡å—

å‚æ•°ç¡®è®¤åè§¦å‘å¤šç›®æ ‡ä¼˜åŒ–ï¼Œæ¨¡æ‹Ÿ 6 æ­¥ç”Ÿæˆè¿‡ç¨‹ï¼š

1. åŠå¯¼ä½“å™¨ä»¶è¿­ä»£ä¼˜åŒ–
2. ç”µæ„Ÿå‚æ•°è¿­ä»£ä¼˜åŒ–
3. ç”µå®¹å‚æ•°è¿­ä»£ä¼˜åŒ–
4. ç³»ç»Ÿç»„åˆä¼˜åŒ–
5. å¸•ç´¯æ‰˜ç­›é€‰
6. æŠ¥å‘Šç”Ÿæˆ

å®ç°è§ DownloadPanel.tsxã€‚

### 3. æŠ¥å‘Šä¸‹è½½æ¨¡å—

ç”Ÿæˆçš„å¯ä¸‹è½½æ–‡ä»¶ï¼š

| æ–‡ä»¶           | æ ¼å¼ | å†…å®¹                       |
| -------------- | ---- | -------------------------- |
| ç‰©æ–™æ¸…å• (BOM) | CSV  | å…ƒå™¨ä»¶å‹å·ã€å‚æ•°ã€ä»·æ ¼     |
| è®¾è®¡æŠ¥å‘Š       | PDF  | ç³»ç»Ÿè§„æ ¼ã€æŸè€—åˆ†æã€çƒ­åˆ†æ |
| åŠå¯¼ä½“é€‰å‹æŠ¥å‘Š | PDF  | MOSFET/äºŒæç®¡é€‰å‹ä¸çƒ­è®¾è®¡  |
| ç”µæ„Ÿé€‰å‹æŠ¥å‘Š   | PDF  | ç£èŠ¯ææ–™ã€ç»•ç»„è®¾è®¡         |
| ç”µå®¹é€‰å‹æŠ¥å‘Š   | PDF  | è¾“å…¥/è¾“å‡ºç”µå®¹é€‰å‹          |

å®ç°è§ reportGenerator.tsã€‚

### 4. é—®ç­”æ¨¡å—

è®¾è®¡å®Œæˆåè‡ªåŠ¨åˆ‡æ¢è‡³é—®ç­”æ¨¡å¼ï¼Œå¯å›ç­”ï¼š

- æ§åˆ¶å®ç°ï¼ˆPWM ç­–ç•¥ã€PI å‚æ•°ï¼‰
- å…ƒå™¨ä»¶æ›¿æ¢å»ºè®®
- è®¾è®¡åŸç†è§£é‡Š
- PCB å¸ƒå±€ä¸è°ƒè¯•æŠ€å·§

---

## ğŸ¯ æ ¸å¿ƒ API

### æ¶ˆæ¯å‘é€

```typescript
// æµå¼å‘é€ï¼ˆæ¨èï¼‰
import { sendMessageStream, Message, StreamCallbacks } from "./services/api";

const messages: Message[] = [
  { role: "user", content: "å¸®æˆ‘è®¾è®¡ä¸€ä¸ª48Vè½¬100Vçš„500Wå‡å‹ç”µè·¯" },
];

await sendMessageStream(messages, {
  onThinking: (thinking) => console.log("æ€è€ƒä¸­:", thinking),
  onContent: (content) => console.log("å›å¤:", content),
  onDone: () => console.log("å®Œæˆ"),
  onError: (error) => console.error("é”™è¯¯:", error),
});
```

### è®¾è®¡å‚æ•°æå–

```typescript
import { extractDesignFromChat } from "./services/designExtractor";

const extracted = await extractDesignFromChat(messages);
// è¿”å›: { topology, inputVoltage, outputVoltage, outputPower, priority, ... }
```

### æŠ¥å‘Šç”Ÿæˆ

```typescript
import {
  generateDesignReportPDF,
  generateBOMCSV,
} from "./services/reportGenerator";

const pdfDoc = await generateDesignReportPDF(params, result);
const csvContent = generateBOMCSV(params, result);
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# AI API é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨å†…ç½®å¯†é’¥ï¼‰
VITE_API_KEY=your-modelscope-api-key
```

### TailwindCSS ä¸»é¢˜

è‡ªå®šä¹‰é¢œè‰²å®šä¹‰åœ¨ index.htmlï¼š

```javascript
tailwind.config = {
  theme: {
    extend: {
      colors: {
        primary: "#5B5FC7", // ä¸»è‰²è°ƒ
        panel: "#EEF2FF", // é¢æ¿èƒŒæ™¯
        input: "#F3F6F8", // è¾“å…¥æ¡†èƒŒæ™¯
      },
    },
  },
};
```

---

## ğŸ“¦ ä¾èµ–è¯´æ˜

### ç”Ÿäº§ä¾èµ–

```json
{
  "react": "^18.x",
  "react-dom": "^18.x",
  "lucide-react": "^0.x" // å›¾æ ‡åº“
}
```

### å¼€å‘ä¾èµ–

```json
{
  "typescript": "^5.x",
  "vite": "^5.x",
  "@types/react": "^18.x"
}
```
